receivers:
    otlp:
        protocols:
            grpc:
                endpoint: 0.0.0.0:4317
            http:
                endpoint: 0.0.0.0:4318

processors:
    memory_limiter:
        check_interval: 1s
        limit_mib: 512
        spike_limit_mib: 128
    batch:
        timeout: 1s

exporters:
    otlphttp/maple:
        endpoint: https://ingest.maple.dev
        headers:
            Authorization: "Bearer ${env:MAPLE_INGEST_KEY}"

service:
    pipelines:
        traces:
            receivers: [otlp]
            processors: [memory_limiter, batch]
            exporters: [otlphttp/maple]
        metrics:
            receivers: [otlp]
            processors: [memory_limiter, batch]
            exporters: [otlphttp/maple]
        logs:
            receivers: [otlp]
            processors: [memory_limiter, batch]
            exporters: [otlphttp/maple]
